{% extends "base.html" %}

{% block title %}Program Officer Dashboard - CourseXcel{% endblock %}

{% block content %}
<div class="main-container">
    <nav class="navbar">
        <div class="navbar-container">
            <div class="navbar-links">
                <a href="{{ url_for('poHomepage') }}" class="nav-link {% if request.endpoint == 'poHomepage' %}active{% endif %}">Home</a>
                <a href="{{ url_for('poFormPage') }}" class="nav-link {% if request.endpoint == 'poFormPage' %}active{% endif %}">Form</a>
                <a href="{{ url_for('poLecturersPage') }}" class="nav-link {% if request.endpoint == 'poLecturersPage' %}active{% endif %}">Lecturers</a>
                <a href="{{ url_for('poApprovalsPage') }}" class="nav-link {% if request.endpoint == 'poApprovalsPage' %}active{% endif %}">Approvals</a>
                <a href="{{ url_for('poProfilePage') }}" class="nav-link {% if request.endpoint == 'poProfilePage' %}active{% endif %}">Profile</a>
            </div>
        </div>
    </nav>  

    <div class="content-wrapper">
        <h2 class="page-title">Charts</h2>

        <!-- Top Dropdown: Lecturer Selection -->
        <div class="dashboard-section">
        <label for="lecturer-select">Select Lecturer:</label>
        <select id="lecturer-select" onchange="onLecturerChange()">
            <option value="lecturerA">Lecturer A</option>
            <option value="lecturerB">Lecturer B</option>
        </select>
        </div>

        <!-- Semester Chart Section -->
        <div class="dashboard-section">
        <div class="section-header">
            <h3>By Semester Chart</h3>
            <select id="semester-select">
            <option value="april">April Semester</option>
            <option value="august">August Semester</option>
            </select>
        </div>
        <div class="chart-card">
            <canvas id="semesterChart"></canvas>
        </div>
        </div>

        <!-- Monthly Chart Section -->
        <div class="dashboard-section">
        <div class="section-header">
            <h3>Monthly Chart</h3>
            <select id="month-select">
            <option value="april">April</option>
            <option value="may">May</option>
            <option value="june">June</option>
            <option value="july">July</option>
            </select>
        </div>
        <div class="chart-card">
            <canvas id="monthlyChart"></canvas>
        </div>
        </div>

        <!-- Predictive Analytics Chart -->
        <div class="dashboard-section">
        <h3>Predictive Analytics</h3>
        <div class="chart-card">
            <canvas id="predictiveChart"></canvas>
        </div>
        </div>


    </div>

</div>
{% endblock %}

{% block scripts %}
{{ super() }}
<script src="{{ url_for('static', filename='js/po.js') }}"></script>
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

<script>
  // Dummy data for semester chart
  const semesterChart = new Chart(document.getElementById('semesterChart'), {
    type: 'bar',
    data: {
      labels: ['April', 'August'],
      datasets: [{
        label: 'Total Hours',
        data: [40, 60],
        backgroundColor: '#007bff'
      }]
    },
    options: {
      responsive: true,
      plugins: { legend: { display: false } }
    }
  });

  // Dummy data for monthly chart
  const monthlyChart = new Chart(document.getElementById('monthlyChart'), {
    type: 'bar',
    data: {
      labels: ['April', 'May', 'June'],
      datasets: [{
        label: 'Hours Claimed',
        data: [10, 20, 15],
        backgroundColor: '#28a745'
      }]
    },
    options: {
      responsive: true,
      plugins: { legend: { display: false } }
    }
  });

  // Dummy data for predictive analytics
  const predictiveChart = new Chart(document.getElementById('predictiveChart'), {
    type: 'line',
    data: {
      labels: ['July', 'August', 'September', 'October'],
      datasets: [{
        label: 'Predicted Hours',
        data: [20, 30, 35, 25],
        borderColor: '#ffc107',
        fill: false
      }]
    },
    options: {
      responsive: true,
      plugins: { legend: { display: false } }
    }
  });

  // Reset semester & month to April on lecturer change
  function onLecturerChange() {
    document.getElementById('semester-select').value = 'april';
    document.getElementById('month-select').value = 'april';
    // Optional: Add logic to update chart data
  }
</script>
{% endblock %}
